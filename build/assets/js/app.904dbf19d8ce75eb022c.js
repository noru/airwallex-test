!function(e){function t(t){for(var r,i,l=t[0],c=t[1],s=t[2],p=0,f=[];p<l.length;p++)i=l[p],a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={2:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/airwallex-test/build/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;o.push([497,0]),n()}({1002:function(e,t,n){"use strict";n(1001).polyfill(),n(1e3),n(999),n(998).shim(),n(983),n(980),n(960),n(958)},1086:function(e,t){},152:function(e,t,n){"use strict";n.r(t);var r=n(174);t.default=function(e){e.onPost(r.a).reply(function(e){var t=e.data;return"usedemail@airwallex.com"===JSON.parse(t).email?[400,{errorMessage:"Bad Request: Email is already in use"}]:[200,"Registered"]})}},174:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(93),a=n.n(r);n(225);var o="https://l94wc2001h.execute-api.ap-southeast-2.amazonaws.com/prod/fake-auth",i=function(){function e(){}return e.prototype.invite=function(e,t){return a.a.post(o,{name:e,email:t}).then(function(){return{status:200}}).catch(function(e){return{status:e.response.status,msg:e.response.data.errorMessage}})},e}();t.b=new i},225:function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return c});var r,a=n(93),o=n.n(a),i=n(491),l=n.n(i);function c(e){r=r||new l.a(o.a,{delayResponse:800}),n(928)(""+e).default(r)}},497:function(e,t,n){"use strict";n.r(t);var r,a=n(176),o=n.n(a),i=n(492),l=n.n(i),c=(n(1002),n(174)),s=n(281),u=n(173),p=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},f={namespace:"invite",state:Object(s.a)({},u.b),effects:{"get/invite-response":function(e,t){var n,r=e.payload,a=r.fullname,o=r.email,i=t.put,l=t.call;return p(this,function(e){switch(e.label){case 0:return[4,l(c.b.invite,a,o)];case 1:return n=e.sent(),[4,i({type:"set/invite-response",payload:n})];case 2:return e.sent(),[2]}})}},reducers:{"set/invite-response":function(e,t){var n=t.payload;return Object(s.a)(e,function(e){e.inviteResponse=n})}}},m=n(1),d=n.n(m),v=n(94),h=n(172),b=n(274),y=n(488),E=n(487),w=n(486),g=Object(u.a)(n(907)),O=b.use(y).use(E).use(w).init({fallbackLng:"zh",ns:["common"],defaultNS:"common",debug:!1,cache:{enabled:!0,versions:{zh:g,"zh-CN":g}},backend:{loadPath:"assets/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1,formatSeparator:",",format:function(e,t,n){return"uppercase"===t?e.toUpperCase():e}}}),N=n(485),x=function(e){var t=e.show,n=e.children,r=e.onClose;return t?d.a.createElement("div",{className:"modal is-active"},d.a.createElement("div",{className:"modal-background",onClick:r}),d.a.createElement("div",{className:"modal-content"},n)):null},C=n(177),_=(n(835),n(279)),j=n.n(_),k=n(126),M=(n(798),function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}),P=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function R(e){var t=e.t;return d.a.createElement("div",{className:"invite-header"},t(q||(q=M(["Broccoli & Co."],["Broccoli & Co."]))))}function S(e){var t=e.t;return d.a.createElement("div",{className:"invite-footer"},d.a.createElement("div",null,t(F||(F=M(["Made with \b\b\b\b❤️ in Melbourne"],["Made with \b\b\b\b❤️ in Melbourne"])))),d.a.createElement("div",null,t(z||(z=M(["© 2016 Broccoli & Co. All rights reserved."],["© 2016 Broccoli & Co. All rights reserved."])))))}function A(e){var t=e.response;return t&&200!==t.status?d.a.createElement("div",{className:"error-msg notification is-danger"},t.msg):null}var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showModal:!1,fullnameError:"",emailError:"",confirmError:""},t.openModal=function(){t.setState({showModal:!0})},t.invite=function(e,n){var r=t.props.dispatch;r({type:"invite/set/invite-response"}),r({type:"invite/get/invite-response",payload:{fullname:e,email:n}})},t.done=function(){(0,t.props.dispatch)({type:"invite/set/invite-response"}),t.setState({showModal:!1})},t.extractErrors=function(e){var n,r,a,o=e.fullname,i=e.email,l=e.confirm,c=e.$form,s=t.props.t;!o.touched||o.valid||o.focus||o.errors.length&&(n=s(U||(U=M(["At least 3 characters"],["At least 3 characters"])))),!i.touched||i.valid||i.focus||i.errors.typeMismatch&&(r=s(I||(I=M(["Invalid email"],["Invalid email"])))),l.touched&&!l.focus&&c.errors.emailMatch&&(a=s(J||(J=M(["Confirm email doesn't match"],["Confirm email doesn't match"])))),t.setState({fullnameError:n,emailError:r,confirmError:a})},t}return P(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.t,r=t.inviteResponse,a=t.loading,o=this.state,i=o.showModal,l=o.fullnameError,c=o.emailError,s=o.confirmError;return d.a.createElement("div",{className:"page-invite"},d.a.createElement(R,{t:n}),d.a.createElement("div",{className:"invite-content"},d.a.createElement("div",{className:"main-title"},n(L||(L=M(["A better way to enjoy everday."],["A better way to enjoy everday."])))),d.a.createElement("div",{className:"sub-title"},n(Y||(Y=M(["Be the first to know when we launch."],["Be the first to know when we launch."])))),d.a.createElement("a",{className:"button",onClick:this.openModal},n(D||(D=M(["Request an invite"],["Request an invite"]))))),d.a.createElement(S,{t:n}),d.a.createElement(x,{show:i,onClose:this.done},d.a.createElement("div",{className:"invite-form-wrapper"},d.a.createElement("div",{className:"invite-form"},r&&200===r.status?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"form-title"},n(T||(T=M(["All done"],["All done"])))),d.a.createElement("div",{className:"success-msg"},n(G||(G=M(["You will be one of the first to experience Broccoli & Co. when we launch."],["You will be one of the first to experience Broccoli & Co. when we launch."])))),d.a.createElement("a",{className:j()("button",a&&"is-loading"),onClick:this.done},n(H||(H=M(["Ok"],["Ok"]))))):d.a.createElement(k.LocalForm,{initialState:{fullname:"",email:"",confirm:""},onUpdate:function(t){return e.extractErrors(t)},onSubmit:function(t){var n=t.fullname,r=t.email;return e.invite(n,r)},validators:{"":{emailMatch:function(e){return e.email===e.confirm}}}},d.a.createElement("div",{className:"form-title"},n(V||(V=M(["Request an invite"],["Request an invite"])))),d.a.createElement(C.a,{visible:!!l,placement:"top",overlay:d.a.createElement("span",null,l)},d.a.createElement(k.Control.text,{className:"input",model:".fullname",placeholder:n($||($=M(["Full name"],["Full name"]))),validators:{length:function(e){return e&&e.length>=3}},required:!0})),d.a.createElement(C.a,{visible:!!c,placement:"top",overlay:d.a.createElement("span",null,c)},d.a.createElement(k.Control.text,{className:"input",model:".email",type:"email",placeholder:n(K||(K=M(["Email"],["Email"]))),required:!0})),d.a.createElement(C.a,{visible:!!s,placement:"top",overlay:d.a.createElement("span",null,s)},d.a.createElement(k.Control.text,{className:"input",model:".confirm",type:"email",placeholder:n(Q||(Q=M(["Confirm Email"],["Confirm Email"]))),validators:{length:function(e){return e&&e.length>=3}},required:!0})),d.a.createElement(A,{response:r}),d.a.createElement("button",{type:"submit",className:j()("button is-primary",a&&"is-loading")},n(W||(W=M(["Send"],["Send"])))))))))},t}(d.a.Component);var q,F,z,U,I,J,L,Y,D,T,G,H,V,$,K,Q,W,X=Object(N.flow)(B,Object(h.translate)(),Object(a.connect)(function(e){var t=e.invite,n=e.loading;return{inviteResponse:t.inviteResponse,loading:n.effects["invite/get/invite-response"]}})),Z=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.render=function(){return m.createElement("div",{className:"not-found-page"},m.createElement("span",null,"404. You know what to do."))},t}(m.PureComponent),te=(n(796),o()({onError:function(e){console.error(e.message)}}));te.use(l()()),te.model(f),te.router(function(){return m.createElement(h.I18nextProvider,{i18n:O},m.createElement(v.HashRouter,null,m.createElement(v.Switch,null,m.createElement(v.Route,{exact:!0,path:"/",component:X}),m.createElement(v.Route,{exact:!0,path:"*",component:ee}))))}),te.start("#app");t.default=te},796:function(e,t,n){},798:function(e,t,n){},907:function(e,t,n){e.exports=n.p+"99914b932bd37a50b983c5e7c90ae93b"},928:function(e,t,n){var r={".":152,"./":152,"./helper":225,"./helper.ts":225,"./index":152,"./index.ts":152};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=928}});